<h1>Add Image</h1></br>
<!-- <h4>Provide a link to image</h4>
<input ng-model="addImgController.myImage" type="text" class="form-control" placeholder="Paste a link to the image"/> -->
<!-- </br> -->

<h4>Just drug your image into the form</h4>
<form action="{{addImgController.imageUrl}}" class="dropzone" id="my-awesome-dropzone" set-image="addImgController.setImage(image)"></form>
</br>

<div ng-show="addImgController.myImage">
  <h4>Crop image for a thumbnail</h4>
  <div class='cropWrapper'>
    <img-crop image="addImgController.myImage" result-image="addImgController.myCroppedImage"
      area-type="rectangle" aspect-ratio="1.33"
      cropject="cropper" result-image-size="{ w:cropper.cropImageWidth,h:cropper.cropImageHeight }">
    </img-crop>

    <div class="save-container" ng-show="addImgController.saved">
      <h4>Image was successfully saved</h4>
      <p><b>ID:</b> {{addImgController.savedImage.id}}</p>
      <p><b>Name:</b> {{addImgController.savedImage.name}}</p>
      <p><b>Description:</b> {{addImgController.savedImage.description}}</p>
      <p><b>Date:</b> {{addImgController.savedImage.dateAdded}}</p>
    </div>
  </div>
  </br></br>

  <form novalidate ng-submit="addImgForm.$valid && addImgController.addImg();
        addImgForm.$valid && addImgForm.$setPristine();" name="addImgForm">
    <h4>Please fill up the following fields to save an image</h4>
    <fieldset class="form-group">
      <input ng-model="addImgController.name" type="text" class="form-control" name="name"
      placeholder="Name" required />
      <div ng-messages="addImgForm.$submitted && addImgForm.name.$error" role="alert" class="error-messages">
        <div ng-message="required">You did not enter a source</div>
      </div>
    </fieldset>
    <fieldset class="form-group">
      <textarea ng-model="addImgController.description" type="text" class="form-control"
      placeholder="Description" name="description" required>
      </textarea>
      <div ng-messages="addImgForm.$submitted && addImgForm.description.$error" role="alert" class="error-messages">
        <div ng-message="required">You did not enter a description</div>
      </div>
    </fieldset>
    <fieldset class="form-group">
      <button type="submit" class="btn btn-primary pull-right">Save</button>
    </fieldset>
  </form>
</div>
